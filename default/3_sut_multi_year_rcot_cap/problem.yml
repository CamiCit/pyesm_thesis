# SYMBOLIC PROBLEM

# definition of the objective function (scalar)

objective function:
    - Minimize(sum(C_cap+C_om)) # cost minimization

# definition of the constraints (vector expressions)

constraints: 

    # total flows demand equals total supply
    - Q_agg - u @ X - Y == 0

    # industry-based technology assumption
    - X - d @ tran(Q) == 0

    # aggregating total demand by flow
    - Q_agg - I_ff @ tran(Q) == 0

    # operational costs
    - C_om == c_om @ diag(X)

    # capital costs
    - C_cap == c_cap @ diag(Cap_new_y)

    # capacity balance
    # - Cap_op == c_start + T_yy @ Cap_new
    - Cap_op == T_yy @ Cap_new

    # limits on production
    - X_max == Cap_op_y @ diag(lf_max) * 8760
    - X_min == Cap_op_y @ diag(lf_min) * 8760

    # constraint on the activity by technology
    - X <= tran(X_max)
    - X >= tran(X_min)

    # non negativity of the decision variables
    - Q >= 0
    - X >= 0
    
    # Environmental flows
    - E == e @ diag(X)