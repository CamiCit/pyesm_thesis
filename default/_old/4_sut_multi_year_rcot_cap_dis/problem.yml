# SYMBOLIC PROBLEM

# definition of the objective function (scalar)

objective function:
    - Minimize(sum(C_om + C_cap))

# definition of the constraints (vector expressions)

constraints: 

    # total flows demand equals total supply
    - Q_agg - u @ X - Y == 0

    # aggregating total demand by flow
    - Q_agg - I_ff @ tran(Q) == 0

    # industry-based technology assumption
    - X - d @ tran(Q) == 0

    # capacity balance
    - Cap_op == c_start + T_yy @ Cap_new

    # operational costs
    - C_om == c_om @ diag(X)

    # capital costs
    - C_cap == c_cap @ diag(Cap_new_y)
    
    # limits on production
    - X_min == mult(Cap_op_y @ diag(lf_min), 8760)
    - X - tran(X_min) >= 0

    - X_max == mult(Cap_op_y @ diag(lf_max), 8760)
    - X - tran(X_max) <= 0

    # non negativity of the decision variables
    - Q >= 0
    - X >= 0
    - Cap_new >= 0
    
    # Environmental flows
    - E == e @ diag(X)